(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66c3d2b5"],{"58eb":function(t,s,i){"use strict";i("fa01")},"6b15":function(t,s,i){"use strict";i.r(s);var o=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"preview-pdf"},[i("div",{staticClass:"w-1200 box"},[i("div",{staticClass:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("h3",{staticClass:"H3magin30"},[t._v("档案结构")]),t._v(" "),i("div",{staticStyle:{display:"flex"}},[i("el-tree",{staticClass:"PDFleft",attrs:{data:this.directory,"node-key":"id"},on:{"node-click":t.handleNodeClick}}),t._v(" "),i("div",{staticClass:"pdf"},[this.pdf_isshow?i("embed",{staticStyle:{overflow:"hidden"},attrs:{src:this.pdfURL,type:"application/pdf"}}):i("div",[i("strong",[t._v("请点击左侧目录下进行查看pdf")])])])],1),t._v(" "),i("div",{staticClass:"btn-group text-center"},[i("el-button",{staticStyle:{color:"#357cff"},on:{click:function(s){return t.$router.go(-1)}}},[t._v("上一步")]),t._v(" "),i("el-button",{staticStyle:{color:"#357cff"},on:{click:function(s){t.$router.push("/selfDeclaration?tid="+t.$utils.getLocalItem("tId"))}}},[t._v("回首页")]),t._v(" "),this.pdf_isshow?i("el-button",{attrs:{type:"primary"},on:{click:t.down}},[t._v("扫码下载")]):t._e()],1)]),t._v(" "),i("el-dialog",{staticClass:"success-dialog",attrs:{visible:t.dialogVisible,width:"506px","close-on-click-modal":!1,"close-on-press-escape":!1,center:""},on:{"update:visible":function(s){t.dialogVisible=s}}},[i("div",{staticClass:"success-dialog_son"},[i("vue-qr",{staticStyle:{"margin-top":"29px",width:"200px",height:"200px"},attrs:{text:this.pdfURL,size:200}}),t._v(" "),i("div",{staticClass:"dialog-tips"},[t._v("请使用手机浏览器扫码下载")])],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})])],1)},e=[],a=i("658f"),n=i.n(a),l=i("6350"),c=i("365c"),d={components:{Breadcrumb:l["a"],vueQr:n.a},data:function(){return{access_token:"",directory:[],dialogVisible:!1,pdf_isshow:!1,pdfURLPre:"https://scjg.hubei.gov.cn/zhkb/open-platform/",pdfURL:"",pdfListInfomation:[]}},computed:{pdfListInfo:function(){return this.$store.state.pdfList.pdfList}},created:function(){if(0===this.pdfListInfo.length)return this.$utils.showWarn("企业信息未获取成功");this.pdfListInfomation=this.pdfListInfo.data,this.access_token=this.pdfListInfo.access_token;for(var t={label:null},s=0,i=this.pdfListInfo.data.length;s<i;s++)this.directory.push(JSON.parse(JSON.stringify(t))),this.directory[s].label=this.pdfListInfomation[s].busnm},watch:{},activated:function(){},methods:{down:function(){this.dialogVisible=!0,console.log(this.pdfURL,"this.pdfURL")},handleNodeClick:function(t){var s=this;this.$loading({text:"查询时间较长，请耐心等待"}),console.log(t.label,"val");for(var i=null,o=0;o<this.pdfListInfomation.length;o++)if(this.pdfListInfomation[o].busnm===t.label){i=this.pdfListInfomation[o];break}console.log(i);var e={access_token:this.access_token,data:i};Object(c["e"])(e).then((function(t){s.$loading().close(),t.outData.data&&(s.pdfURL=s.pdfURLPre+t.outData.data,s.pdf_isshow=!0,console.log(s.pdfURL,"123")),console.log(t)}))}}},f=d,r=(i("58eb"),i("2877")),p=Object(r["a"])(f,o,e,!1,null,"f53c0e30",null);s["default"]=p.exports},fa01:function(t,s,i){}}]);