(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e0b25ea8"],{"1a1d":function(t,n,e){"use strict";var r=e("5530"),o=e("f2e8"),i=e.n(o),a=e("ed08");function c(t){var n=t.url,e=t.data,r=t.option;return n+=(n.indexOf("?")<0?"?":"&")+u(e),new Promise((function(t,o){e&&e.jsonpCallback&&(window[e.jsonpCallback]=function(n){n&&t(n),o(n)}),"MD"===a["b"].getLocalItem("device")&&(console.log(e,"data"),t(e)),i()(n,r)}))}function u(t){var n="";for(var e in t){var r=void 0===t[e]?"":t[e];n+="&"+e+"="+encodeURIComponent(r)}return n?n.substring(1):""}var s=e("4328"),l=e.n(s),d=e("2b0e"),f=e("dc02");function h(t){var n=t.url,e=t.data;return new Promise((function(t,r){d["default"].prototype.$jsonp(n,e).then((function(n){t(n)})).catch((function(t){r(t)}))}))}d["default"].use(f["a"]);var p=e("bc3a"),m=e.n(p),g=e("5c96"),b=m.a.create({withCredentials:!1,headers:{"Content-Type":"application/json"},timeout:6e4});b.interceptors.response.use((function(t){return t.data}),(function(t){return g["Loading"].service().close(),Object(a["g"])("网络繁忙，请稍后再试！"),Promise.reject(t)}));var v=b;e.d(n,"s",(function(){return j})),e.d(n,"x",(function(){return O})),e.d(n,"t",(function(){return k})),e.d(n,"q",(function(){return E})),e.d(n,"w",(function(){return $})),e.d(n,"v",(function(){return T})),e.d(n,"r",(function(){return I})),e.d(n,"u",(function(){return x})),e.d(n,"f",(function(){return B})),e.d(n,"b",(function(){return _})),e.d(n,"d",(function(){return G})),e.d(n,"e",(function(){return P})),e.d(n,"g",(function(){return D})),e.d(n,"j",(function(){return H})),e.d(n,"i",(function(){return M})),e.d(n,"c",(function(){return y})),e.d(n,"h",(function(){return S})),e.d(n,"o",(function(){return F})),e.d(n,"k",(function(){return q})),e.d(n,"m",(function(){return L})),e.d(n,"n",(function(){return J})),e.d(n,"l",(function(){return z})),e.d(n,"p",(function(){return R})),e.d(n,"a",(function(){return W}));var w="https://q.g4b.cn/zhkb",C="https://q.g4b.cn/zhkb";function j(){return c({url:w+"inteGration/hardwareControl/api/idcard",data:{timeout:60,jsonpCallback:"flightHandler"}})}function O(){return c({url:w+"inteGration/hardwareControl/api/stopIdcard",data:{jsonpCallback:"flightHandler"}})}function k(t){return c({url:w+"inteGration/hardwareControl/api/openSnCamera",data:Object(r["a"])(Object(r["a"])({picFormat:"JPG"},t),{},{jsonpCallback:"flightHandler"})})}function E(){return c({url:w+"inteGration/hardwareControl/api/closeSnCamera",data:{jsonpCallback:"flightHandler"}})}function $(){return c({url:w+"inteGration/hardwareControl/api/snCameraBeginSnap",data:{jsonpCallback:"flightHandler"}})}function T(t){return c({url:w+"inteGration/hardwareControl/api/printNew",data:Object(r["a"])(Object(r["a"])({},t),{},{jsonpCallback:"flightHandler"})})}function I(t){return c({url:"http://127.0.0.1:1234",data:Object(r["a"])(Object(r["a"])({},t),{},{times:60,jsonpCallback:"flightHandler"})})}function x(t){return c({url:"http://127.0.0.1:9988",data:Object(r["a"])(Object(r["a"])({},t),{},{jsonpCallback:"flightHandler"})})}function B(){return h({url:C+"OpenDevice",data:{Port:"100",Baud:"0"}})}function _(){return h({url:C+"CloseDevice"})}function G(){return h({url:C+"ReadMsg"})}function P(){return v({url:"http://127.0.0.1:8888/GetDeviceCount",method:"GET"})}function D(){return v({url:"http://127.0.0.1:8888/StartPreview",method:"GET",params:{dev_idx:0,res_id:0,pixfmt:"pixfmt"}})}function H(){return v({url:"http://127.0.0.1:8888/getFrame",method:"GET"})}function M(){return v({url:"http://127.0.0.1:8888/getPic",method:"GET",params:{savepath:"D://Test.jpg",quality:80}})}function y(t){return v({url:"http://127.0.0.1:8888/EnableDeskImage?enable=".concat(t),method:"GET"})}function S(){return v({url:"http://127.0.0.1:8888/StopPreview",method:"GET",params:{dev_idx:0}})}function F(){return v({url:"http://127.0.0.1:18889/api/connect",method:"GET"})}function q(){return v({url:"http://127.0.0.1:18889/api/getStatus",method:"POST"})}function L(){return v({url:"http://127.0.0.1:18889/api/readCert",method:"GET",params:{_t:Date.now()}})}function J(){return v({url:"http://127.0.0.1:9999/getImgBase64",method:"GET"})}function z(){return v({url:"http://127.0.0.1:9999/delAllFile ",method:"GET"})}function R(t){return t=l.a.stringify(t),v({url:"http://localhost:8080/Printer/",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t})}function W(t){return v({url:"http://localhost:9999/print",method:"GET",data:t})}},"52f3":function(t,n,e){},"5a85":function(t,n,e){"use strict";e("52f3")},"6d03":function(t,n,e){"use strict";e.r(n);var r=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("page-header"),t._v(" "),r("div",{staticClass:"camera-guide"},[r("div",{staticClass:"title"},[t._v("请将身份证放置在读卡器上")]),t._v(" "),r("img",{attrs:{src:e("8fda"),alt:""}}),t._v(" "),r("div",{staticClass:"btn-group"},[r("el-button",{attrs:{type:"primary"},on:{click:t.goBack}},[t._v("取消")])],1),t._v(" "),r("el-dialog",{attrs:{visible:t.showDialog,width:"598px","close-on-click-modal":"","close-on-press-escape":"","show-close":!1},on:{"update:visible":function(n){t.showDialog=n}}},[r("div",{staticClass:"dialog-qrcode text-center"},[r("div",{staticClass:"dialog-title"},[t._v("页面即将会在"),r("span",{staticStyle:{color:"red"}},[t._v(t._s(t.second))]),t._v("秒后自动退出，也可以点立即击退出按钮退出重试")]),t._v(" "),r("el-button",{staticClass:"auth-btn",on:{click:t.goBack}},[t._v("立即退出")])],1)])],1)],1)},o=[],i=(e("a481"),e("1a1d")),a=e("af20"),c={name:"",components:{PageHeader:a["a"]},data:function(){return{second:30,showDialog:!1,timer:null}},mounted:function(){var t=this;this.clearTimer(),setTimeout((function(){t.getId()}),1e3)},beforeDestroy:function(){this.$utils.getLocalItem("device")||Object(i["x"])()},methods:{clearTimer:function(){clearInterval(this.timer)},getId:function(){var t=this,n=this.$utils.getLocalItem("device");"MD"===n?Object(i["f"])().then((function(n){+n.retCode?t.$utils.showError("打开读卡设备失败，请退出重试！"):Object(i["d"])().then((function(n){+n.retcode?t.$confirm("请确认身份证已放至读卡区","温馨提示",{confirmButtonText:"已放好",showCancelButton:!1,closeOnPressEscape:!1,closeOnClickModal:!1}).then((function(){Object(i["b"])().then((function(n){+n.retcode||t.getId()}))})):(t.$utils.setItem("userInfo",n),t.$router.push("/face"))}))})).catch((function(){t.$utils.showError("打开读卡设备失败，请退出重试！")})):"ZW"===n||"HDY"===n?Object(i["o"])().then((function(n){if(500===n.flag)return t.$utils.showError(n.message),void t.$confirm("请确认身份证已放至读卡区","温馨提示",{confirmButtonText:"已放好",showCancelButton:!1,closeOnPressEscape:!1,closeOnClickModal:!1}).then((function(){t.getId()}));Object(i["k"])().then((function(n){if(500===n.flag)return t.$utils.showError(n.message),void t.$confirm("请确认身份证已放至读卡区","温馨提示",{confirmButtonText:"已放好",showCancelButton:!1,closeOnPressEscape:!1,closeOnClickModal:!1}).then((function(){t.getId()}));Object(i["m"])().then((function(n){if(500===n.flag)return t.$utils.showError(n.message),void t.$confirm("请确认身份证已放至读卡区","温馨提示",{confirmButtonText:"已放好",showCancelButton:!1,closeOnPressEscape:!1,closeOnClickModal:!1}).then((function(){t.getId()}));t.$utils.setItem("userInfo",n.data),t.$router.push("/face")}))}))})):"ZW1"===n?Object(i["o"])().then((function(n){if(0!==n.resultFlag)return t.$utils.showError(n.errorMsg),void t.$confirm("请确认身份证已放至读卡器","温馨提示",{confirmButtonText:"已放好",showCancelButton:!1}).then((function(){return t.getId()}));Object(i["k"])().then((function(n){if(0!==n.resultFlag)return t.$utils.showError(n.errorMsg),void t.$confirm("身份证认证失败，请重试","温馨提示",{confirmButtonText:"重新读取",showCancelButton:!1}).then((function(){return t.getId()}));Object(i["m"])().then((function(n){if(0!==n.resultFlag)return t.$utils.showError(n.errorMsg),void t.$confirm("读取身份信息失败，请重试","温馨提示",{confirmButtonText:"重新读取",showCancelButton:!1}).then((function(){return t.getId()}));t.$utils.setItem("userInfo",n.resultContent),t.$router.push("/face")}))}))})):Object(i["s"])().then((function(n){n.success?Object(i["x"])().then((function(){t.$utils.setItem("userInfo",n.obj),t.$router.push("/face")})):t.showError()})).catch((function(){t.showError()}))},showError:function(){var t=this;this.showDialog=!0,this.$utils.showError("身份证识别失败，请退出页面重新进入重试！"),this.timer=setInterval((function(){t.second--,0===t.second&&t.goBack()}),1e3),Object(i["x"])()},goBack:function(){this.clearTimer(),this.$router.replace("/")}}},u=c,s=(e("5a85"),e("2877")),l=Object(s["a"])(u,r,o,!1,null,"32b4ca55",null);n["default"]=l.exports},"8fda":function(t,n,e){t.exports=e.p+"static/img/idcard_guide.794e4cb7.gif"},b3c2:function(t,n,e){t.exports=e.p+"static/img/idCard.437e5e2a.png"},ec94:function(t,n,e){t.exports=e.p+"static/img/header_bottom_bg.2a215c97.png"}}]);