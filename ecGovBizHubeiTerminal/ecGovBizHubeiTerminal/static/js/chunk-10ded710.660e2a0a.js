(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10ded710"],{"007e":function(e,t,r){},"1c53":function(e,t,r){"use strict";r("007e")},5095:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"address-form"},[r("breadcrumb",{directives:[{name:"show",rawName:"v-show",value:"test"!==e.$route.query.mode,expression:"$route.query.mode !== 'test'"}]}),e._v(" "),r("div",{staticClass:"box"},[r("div",{staticClass:"title"},[e._v(e._s(e.$route.meta.title))]),e._v(" "),r("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":"left",model:e.form,rules:e.rules,"label-width":"94px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{staticClass:"radio",attrs:{label:"是否预约社保业务",prop:"isReservationSocialSecurityBusiness","label-width":"274px"}},[r("el-radio-group",{attrs:{disabled:""},model:{value:e.form.isReservationSocialSecurityBusiness,callback:function(t){e.$set(e.form,"isReservationSocialSecurityBusiness",t)},expression:"form.isReservationSocialSecurityBusiness"}},[r("el-radio",{attrs:{label:!0,border:""},on:{change:e.clearValidate}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:!1,border:""},on:{change:e.clearValidate}},[e._v("否")])],1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"行政区划",prop:"addressArea","label-width":"140px"}},[r("el-cascader",{ref:"addressArea",attrs:{options:e.areaList,separator:" ",disabled:"",props:{expandTrigger:"hover"},placeholder:"请选择行政区划"},on:{change:function(t){return e.handleChangeArea(t,"addressArea")}},model:{value:e.form.addressArea,callback:function(t){e.$set(e.form,"addressArea",t)},expression:"form.addressArea"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"经济类型",prop:"economicType","label-width":"140px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.economicType,callback:function(t){e.$set(e.form,"economicType",t)},expression:"form.economicType"}},e._l(e.economicTypeList,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"行业风险类别",prop:"industryRiskCategory","label-width":"140px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.industryRiskCategory,callback:function(t){e.$set(e.form,"industryRiskCategory",t)},expression:"form.industryRiskCategory"}},e._l(e.industryRiskCategoryList,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"隶属关系",prop:"affiliation","label-width":"140px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.affiliation,callback:function(t){e.$set(e.form,"affiliation",t)},expression:"form.affiliation"}},e._l(e.affiliationList,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"登记类型",prop:"registrationType","label-width":"140px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.registrationType,callback:function(t){e.$set(e.form,"registrationType",t)},expression:"form.registrationType"}},e._l(e.registrationTypeList,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"单位类型",prop:"unitType","label-width":"140px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.unitType,callback:function(t){e.$set(e.form,"unitType",t)},expression:"form.unitType"}},e._l(e.unitTypeList,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"单位社保联络员姓名",prop:"socialSecurityName","label-width":"170px"}},[r("el-input",{staticStyle:{width:"221px"},attrs:{placeholder:"请填写"},model:{value:e.form.socialSecurityName,callback:function(t){e.$set(e.form,"socialSecurityName",t)},expression:"form.socialSecurityName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{staticClass:"socialSecurity",attrs:{label:"单位社保联络员身份证号码",prop:"socialSecurityIdcNum","label-width":"140px"}},[r("el-input",{staticStyle:{width:"221px"},attrs:{maxlength:"18",placeholder:"请填写"},model:{value:e.form.socialSecurityIdcNum,callback:function(t){e.$set(e.form,"socialSecurityIdcNum",t)},expression:"form.socialSecurityIdcNum"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"单位社保联络员联系电话",prop:"socialSecurityPhone","label-width":"200px"}},[r("el-input",{staticStyle:{width:"221px"},attrs:{maxlength:"11",placeholder:"请填写"},model:{value:e.form.socialSecurityPhone,callback:function(t){e.$set(e.form,"socialSecurityPhone",t)},expression:"form.socialSecurityPhone"}})],1)],1)],1),e._v(" "),e.showJysqb?r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{staticClass:"house-pic",attrs:{label:"在职职工减员申报","label-width":"180px",prop:"jysqbUrl"}},[r("div",{staticStyle:{display:"flex"}},[r("upload-code",{attrs:{placement:"bottom-start",alias:"jysqbUrl"},on:{update:e.updateFileList}}),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:function(t){e.openDialog=!0}}},[e._v("查看在职职工减员申报表模版.xls")])],1)]),e._v(" "),e.form.jysqbUrl?r("el-form-item",{attrs:{label:"","label-width":"180px"}},[r("div",{staticStyle:{"font-size":"16px",color:"#666"}},[e._v(e._s(e.form.jysqbUrl))])]):e._e()],1)],1):e._e(),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"社保网点",prop:"socialSecurityOutlets","label-width":"120px"}})],1),e._v(" "),r("el-col",{attrs:{span:20}},[r("div",{staticClass:"seal-adress-box"},[r("div",{staticClass:"seal-adress-list"},[r("el-radio-group",{model:{value:e.form.socialSecurityOutlets,callback:function(t){e.$set(e.form,"socialSecurityOutlets",t)},expression:"form.socialSecurityOutlets"}},e._l(e.socialList,(function(t,a){return r("el-radio",{key:a,staticClass:"seal-adress-item",attrs:{label:t.outletsName}},[r("div",{staticClass:"seal-adress-text"},[r("div",{staticStyle:{color:"#000"}},[e._v(e._s(t.outletsName)),r("span",{staticStyle:{"font-size":"14px"}},[e._v("（"+e._s(t.outletsAddr)+"）")])]),e._v(" "),r("div",{staticStyle:{"margin-top":"10px",color:"#999","font-size":"15px"}},[r("span",[e._v("联系人："+e._s(t.outletsContactPerson)+" ")]),r("span",{staticStyle:{"margin-left":"20px"}},[e._v("联系电话："+e._s(t.outletsPhone))])])])])})),1)],1)])])],1),e._v(" "),r("el-form-item",{staticClass:"btn-group text-center",attrs:{"label-width":"0"}},[r("el-button",{on:{click:function(t){return e.handleSaveDraft(!0)}}},[e._v("暂存草稿")]),e._v(" "),r("el-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("上一步")]),e._v(" "),e.businessShow.swchecked||e.businessShow.yhchecked||e.businessShow.gjjchecked||e.businessShow.ylchecked||e.businessShow.sdqwchecked||e.businessShow.dlchecked?r("el-button",{attrs:{type:"primary"},on:{click:e.handleNext}},[e._v("下一步")]):r("el-button",{attrs:{type:"primary"},on:{click:e.handleNext}},[e._v("下一步，生成表单预览")])],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"在职职工减员申报表模版",visible:e.openDialog,width:"70%",top:"8vh","destroy-on-close":"","modal-append-to-body":!1},on:{"update:visible":function(t){e.openDialog=t}}},[r("img",{staticStyle:{width:"100%"},attrs:{src:e.xlsStencilUrl}})])],1)},s=[],i=(r("28a5"),r("5530")),o=r("c7eb"),l=(r("96cf"),r("1da1")),n=r("6350"),c=r("365c"),u=r("81f7"),d={components:{Breadcrumb:n["a"],UploadCode:u["a"]},data:function(){return{openDialog:!1,xlsStencilUrl:"https://rong.wetruetech.cn/zhkb/static/zgjyb.png",baseInfo:{},curArea:{},type:"",areaList:[],rules:{isReservationSocialSecurityBusiness:[{required:!0,message:"请选择是否预约社保业务",trigger:"change"}],economicType:[{required:!0,message:"请选择经济类型",trigger:"change"}],industryRiskCategory:[{required:!0,message:"请选择风险行业类别",trigger:"change"}],affiliation:[{required:!0,message:"请选择隶属关系",trigger:"change"}],registrationType:[{required:!0,message:"请选择登记类型",trigger:"change"}],unitType:[{required:!0,message:"请选择单位类型",trigger:"change"}],socialSecurityName:[{required:!0,message:"请填写单位社保联络员姓名",trigger:"change"},{pattern:/[\u4e00-\u9fa5]/,message:"请填写中文字符"}],socialSecurityIdcNum:[{required:!0,message:"请填写单位社保联络员身份证号码",trigger:"change"},{pattern:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"请填写正确的身份证号码"}],socialSecurityPhone:[{required:!0,message:"请填写单位社保联络员联系电话",trigger:"change"},{pattern:/^1(?:3\d|4[4-9]|5[0-35-9]|6[67]|7[013-8]|8\d|9\d)\d{8}$/,message:"请填写正确的联系电话"}],socialSecurityOutlets:[{required:!0,message:"请选择社保网点",trigger:"change"}]},economicTypeList:["其他有限责任（公司）"],industryRiskCategoryList:["一类（0.2%）"],affiliationList:["中央","部","省","计划单列市","市、地区","县（区）","区","县","街道、镇、乡","街道","镇","乡","居民、村民委员会","居民","村民委员会","军队","其他"],registrationTypeList:["新参保"],unitTypeList:["企业"],socialList:[],form:{isReservationSocialSecurityBusiness:!0,administrativeDivisions:"",economicType:"",industryRiskCategory:"一类（0.2%）",affiliation:"",registrationType:"新参保",unitType:"企业",socialSecurityName:"",socialSecurityIdcNum:"",socialSecurityPhone:"",addressArea:[],addressAreaCode:"",socialSecurityOutlets:"",jysqbUrl:""}}},computed:{draftInfo:function(){return this.$store.state.draft.draftInfo},businessShow:function(){return this.$utils.getItem("businessShow")},showJysqb:function(){return"9210commercial"===this.type}},created:function(){},activated:function(){var e=this;this.type=this.$route.query.type;var t=null;t=this.$utils.getItem("nameApply").areaCode,Object(c["N"])({areacode:t,serviceProvider:"社保"}).then((function(t){e.socialList=t.data||[]})),this.$utils.getLocalItem("baseInfo")&&(this.baseInfo=this.$utils.getLocalItem("baseInfo")),this.$utils.getLocalItem("curArea")&&(this.curArea=this.$utils.getLocalItem("curArea")),this.getAreaInfo().then(Object(l["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$utils.getItem("draftNumber")&&e.$store.dispatch("draft/getDraftDetail",e.$utils.getItem("draftNumber")).then(function(){var t=Object(l["a"])(Object(o["a"])().mark((function t(r){var a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:r.socialSecurityRegistration&&(a=r.socialSecurityRegistration,e.form=a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))))},methods:{clearValidate:function(){this.$refs["form"].clearValidate()},updateFileList:function(e){console.log("扫码上传回调：",e),"jysqbUrl"===e.type&&e.data.length>1&&this.$utils.showWarn("在职职工减员申报仅支持单份文件，已去除多余文件");var t=e.data[0];console.log("ssss:",t),this.$set(this.form,e.type,t)},handleSaveDraft:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(r,a){var s=Object(i["a"])(Object(i["a"])({},e.draftInfo),{},{socialSecurityRegistration:e.form,businessType:"2",showTips:t});e.$store.dispatch("draft/saveDraft",s).then((function(){r()})).catch((function(){a()}))}))},getAreaInfo:function(){var e=this;return new Promise((function(t){var r={inData:{},job:"HuBei_DistCode"};e.$utils.showLoading(),e.$api.startJob(r).then(function(){var r=Object(l["a"])(Object(o["a"])().mark((function r(a){var s,i,l,n;return Object(o["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:s=e.curArea.areaCode,i=e.curArea.areaLabel,l=e.$utils.getItem("area"),n=a.outData.data.filter((function(t){return t.label.trim()===e.curArea.city})),n[0].children=n[0].children.filter((function(e){return e.label.trim()===l.label.trim()})),e.areaList=[{value:"420000",label:"湖北省",children:n}],s.push(l.code),e.form.addressArea=s,i.push(l.label),e.form.administrativeDivisions=i.join(" "),e.form.addressAreaCode=s[2],e.$utils.hideLoading(),t();case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}))},handleNext:function(){var e=this;console.log(this.form),this.$refs["form"].validate(function(){var t=Object(l["a"])(Object(o["a"])().mark((function t(r){var a,s,l,n,u,d,p;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=41;break}return t.next=3,e.handleSaveDraft();case 3:if(e.$utils.setItem("socialSecurityRegistration",e.form),a=e.draftInfo.businessShow,!a.swchecked){t.next=8;break}return e.$router.push({path:"/form/taxAdministration",query:Object(i["a"])({},e.$route.query)}),t.abrupt("return");case 8:if(!a.yhchecked){t.next=11;break}return e.$router.push({path:"/form/bankAccount",query:Object(i["a"])({},e.$route.query)}),t.abrupt("return");case 11:if(!a.gjjchecked){t.next=14;break}return e.$router.push({path:"/form/accumulationFund",query:Object(i["a"])({},e.$route.query)}),t.abrupt("return");case 14:if(!a.ylchecked){t.next=17;break}return e.$router.push({path:"/form/medicalInsurance",query:Object(i["a"])({},e.$route.query)}),t.abrupt("return");case 17:if(!a.sdqwchecked){t.next=20;break}return e.$router.push({path:"/form/utilityForm",query:Object(i["a"])({},e.$route.query)}),t.abrupt("return");case 20:if(!a.waterchecked){t.next=23;break}return e.$router.push({path:"/form/waterRegister",query:Object(i["a"])({},e.$route.query)}),t.abrupt("return");case 23:if(!a.dlchecked){t.next=26;break}return e.$router.push({path:"/form/electricityAllowed",query:Object(i["a"])({},e.$route.query)}),t.abrupt("return");case 26:if(!a.rqchecked){t.next=29;break}return e.$router.push({path:"/form/gasRegister",query:Object(i["a"])({},e.$route.query)}),t.abrupt("return");case 29:console.log(e.draftInfo),s=e.draftInfo.nameApply,l=e.draftInfo.address,n=e.draftInfo.scope,u=e.draftInfo.member,d=e.draftInfo.otherInfo,p=Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},s),l),{},{scope:n},u),d),{},{industryType:{IndustryCode:s.industryFormulated.split("-")[0],IndustryName:s.industryFormulated.split("-")[2]},industryFormulated:s.industryFormulated.split("-")[1],area:s.area.join(" ")}),console.log(p),e.$loading({text:"正在获取pdf内容"}),Object(c["Y"])(p,e.$route.query.whatfrom).then((function(t){if(e.$loading().close(),500===+t.errCode||"faulted"===t.state)return e.$utils.showError("生成失败，请重试！");e.$router.push({path:"/form/preview",query:Object(i["a"])(Object(i["a"])({},e.$route.query),{},{path:t.outData.pdf})})})),t.next=42;break;case 41:e.$utils.showError("请按提示信息补充完整表单！");case 42:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},p=d,f=(r("1c53"),r("2877")),m=Object(f["a"])(p,a,s,!1,null,"080b9c4f",null);t["default"]=m.exports}}]);