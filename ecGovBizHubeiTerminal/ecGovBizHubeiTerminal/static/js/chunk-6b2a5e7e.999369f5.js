(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b2a5e7e"],{"684e":function(t,s,e){},"9eed":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"preview-pdf"},[e("breadcrumb",{directives:[{name:"show",rawName:"v-show",value:"test"!==t.$route.query.mode,expression:"$route.query.mode !== 'test'"}]}),t._v(" "),e("div",{staticClass:"w-1200 box"},[e("div",{staticClass:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),e("h3",{staticClass:"H3magin30"},[t._v("档案结构")]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("el-tree",{staticClass:"PDFleft",attrs:{data:this.directory,"node-key":"id"},on:{"node-click":t.handleNodeClick}}),t._v(" "),e("div",{staticClass:"pdf"},[this.pdf_isshow?e("embed",{staticStyle:{overflow:"hidden"},attrs:{src:this.pdfURL,type:"application/pdf"}}):e("div",[e("strong",[t._v("请点击左侧目录下进行查看pdf")])])])],1),t._v(" "),e("div",{staticClass:"btn-group text-center"},[e("el-button",{staticStyle:{color:"#357cff"},on:{click:function(s){return t.$router.go(-1)}}},[t._v("上一步")]),t._v(" "),this.pdf_isshow?e("el-button",{attrs:{type:"primary"},on:{click:t.down}},[t._v("扫码下载")]):t._e()],1)]),t._v(" "),e("el-dialog",{staticClass:"success-dialog",attrs:{visible:t.dialogVisible,width:"506px","close-on-click-modal":!1,"close-on-press-escape":!1,center:""},on:{"update:visible":function(s){t.dialogVisible=s}}},[e("div",{staticClass:"success-dialog_son"},[e("vue-qr",{staticStyle:{"margin-top":"29px",width:"200px",height:"200px"},attrs:{text:this.pdfURL,size:200}}),t._v(" "),e("div",{staticClass:"dialog-tips"},[t._v("请使用手机浏览器扫码下载")])],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})])],1)},o=[],a=e("658f"),n=e.n(a),l=e("6350"),c=e("365c"),d={components:{Breadcrumb:l["a"],vueQr:n.a},data:function(){return{access_token:"",directory:[],dialogVisible:!1,pdf_isshow:!1,pdfURLPre:"https://rong.wetruetech.cn/zhkb/open-platform/",pdfURL:"",pdfListInfomation:[]}},computed:{pdfListInfo:function(){return this.$store.state.pdfList.pdfList}},created:function(){if(0===this.pdfListInfo.length)return this.$utils.showWarn("企业信息未获取成功");this.pdfListInfomation=this.pdfListInfo.data,this.access_token=this.pdfListInfo.access_token;for(var t={label:null},s=0,e=this.pdfListInfo.data.length;s<e;s++)this.directory.push(JSON.parse(JSON.stringify(t))),this.directory[s].label=this.pdfListInfomation[s].busnm},watch:{},activated:function(){},methods:{down:function(){this.dialogVisible=!0,console.log(this.pdfURL,"this.pdfURL")},handleNodeClick:function(t){var s=this;this.$loading({text:"查询时间较长，请耐心等待"}),console.log(t.label,"val");for(var e=null,i=0;i<this.pdfListInfomation.length;i++)if(this.pdfListInfomation[i].busnm===t.label){e=this.pdfListInfomation[i];break}console.log(e);var o={access_token:this.access_token,data:e};Object(c["e"])(o).then((function(t){s.$loading().close(),t.outData.data&&(s.pdfURL=s.pdfURLPre+t.outData.data,s.pdf_isshow=!0,console.log(s.pdfURL,"123")),console.log(t)}))}}},r=d,f=(e("f9eb"),e("2877")),p=Object(f["a"])(r,i,o,!1,null,"3b41a2cf",null);s["default"]=p.exports},f9eb:function(t,s,e){"use strict";e("684e")}}]);