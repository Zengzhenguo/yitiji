(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ab5da7a"],{"0f28":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"address-form"},[r("breadcrumb",{directives:[{name:"show",rawName:"v-show",value:"test"!==e.$route.query.mode,expression:"$route.query.mode !== 'test'"}]}),e._v(" "),r("div",{staticClass:"box"},[r("div",{staticClass:"title"},[e._v(e._s(e.$route.meta.title))]),e._v(" "),r("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":"left",model:e.form,rules:e.rules,"label-width":"94px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"单位性质",prop:"unitNature","label-width":"140px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.unitNature,callback:function(t){e.$set(e.form,"unitNature",t)},expression:"form.unitNature"}},e._l(e.unitNatureList,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"单位经济类型",prop:"dconomicType","label-width":"140px"}},[r("el-select",{staticStyle:{width:"49%"},attrs:{placeholder:"请选择"},on:{change:e.chooseUnitEconomyType},model:{value:e.form.dconomicType,callback:function(t){e.$set(e.form,"dconomicType",t)},expression:"form.dconomicType"}},e._l(e.unitEconomyTypeList,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1),e._v(" "),r("el-select",{staticStyle:{width:"49%"},attrs:{placeholder:"请选择"},model:{value:e.form.economicType,callback:function(t){e.$set(e.form,"economicType",t)},expression:"form.economicType"}},e._l(e.economicTypeList,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"管理机构",prop:"governingBody","label-width":"140px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.governingBody,callback:function(t){e.$set(e.form,"governingBody",t)},expression:"form.governingBody"}},e._l(e.governingBodyList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.outletsName,value:e.outletsName}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"管理机构类型",prop:"governingBodyType","label-width":"140px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.governingBodyType,callback:function(t){e.$set(e.form,"governingBodyType",t)},expression:"form.governingBodyType"}},e._l(e.governingBodyTypeList,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"单位发薪日",prop:"unitPayday","label-width":"140px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.unitPayday,callback:function(t){e.$set(e.form,"unitPayday",t)},expression:"form.unitPayday"}},e._l(["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"初缴年月",prop:"initialPayment","label-width":"140px"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy-MM",type:"month",placeholder:"选择年月"},model:{value:e.form.initialPayment,callback:function(t){e.$set(e.form,"initialPayment",t)},expression:"form.initialPayment"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"单位缴存比例%",prop:"unitDepositRatio","label-width":"140px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.unitDepositRatio,callback:function(t){e.$set(e.form,"unitDepositRatio",t)},expression:"form.unitDepositRatio"}},e._l(e.ratioList,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"个人缴存比例%",prop:"personalDepositRatio","label-width":"140px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.personalDepositRatio,callback:function(t){e.$set(e.form,"personalDepositRatio",t)},expression:"form.personalDepositRatio"}},e._l(e.ratioList,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"经办人姓名",prop:"managerName","label-width":"140px"}},[r("el-input",{attrs:{placeholder:"请填写"},model:{value:e.form.managerName,callback:function(t){e.$set(e.form,"managerName",t)},expression:"form.managerName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"经办人证件号",prop:"managerIdcNum","label-width":"140px"}},[r("el-input",{attrs:{maxlength:"18",placeholder:"请填写"},model:{value:e.form.managerIdcNum,callback:function(t){e.$set(e.form,"managerIdcNum",t)},expression:"form.managerIdcNum"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"经办人手机号",prop:"managerPhone","label-width":"140px"}},[r("el-input",{attrs:{maxlength:"11",placeholder:"请填写"},model:{value:e.form.managerPhone,callback:function(t){e.$set(e.form,"managerPhone",t)},expression:"form.managerPhone"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"银行",prop:"bank","label-width":"140px"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.getBankList},model:{value:e.form.bank,callback:function(t){e.$set(e.form,"bank",t)},expression:"form.bank"}},e._l(e.bankList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.serviceProvider,value:e.serviceProvider}})})),1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"银行网点",prop:"bankBranch","label-width":"120px"}})],1),e._v(" "),r("el-col",{attrs:{span:20}},[r("div",{staticClass:"seal-adress-box"},[r("div",{staticClass:"seal-adress-list"},[r("el-radio-group",{model:{value:e.form.bankBranch,callback:function(t){e.$set(e.form,"bankBranch",t)},expression:"form.bankBranch"}},e._l(e.bankBranchList,(function(t,a){return r("el-radio",{key:a,staticClass:"seal-adress-item",attrs:{label:t.outletsName}},[r("div",{staticClass:"seal-adress-text"},[r("div",{staticStyle:{color:"#000"}},[e._v(e._s(t.outletsName)),r("span",{staticStyle:{"font-size":"14px"}},[e._v("（"+e._s(t.outletsAddr)+"）")])]),e._v(" "),r("div",{staticStyle:{"margin-top":"10px",color:"#999","font-size":"15px"}},[r("span",[e._v("联系人："+e._s(t.outletsContactPerson)+" ")]),r("span",{staticStyle:{"margin-left":"20px"}},[e._v("联系电话："+e._s(t.outletsPhone))])])])])})),1)],1)])])],1),e._v(" "),r("el-form-item",{staticClass:"btn-group text-center",attrs:{"label-width":"0"}},[r("el-button",{on:{click:function(t){return e.handleSaveDraft(!0)}}},[e._v("暂存草稿")]),e._v(" "),r("el-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("上一步")]),e._v(" "),e.businessShow.ylchecked||e.businessShow.sdqwchecked||e.businessShow.dlchecked||e.businessShow.waterchecked||e.businessShow.rqchecked?r("el-button",{attrs:{type:"primary"},on:{click:e.handleNext}},[e._v("下一步")]):r("el-button",{attrs:{type:"primary"},on:{click:e.handleNext}},[e._v("下一步，生成表单预览")])],1)],1)],1)],1)},o=[],n=(r("28a5"),r("5530")),i=(r("ac6a"),r("c7eb")),s=(r("96cf"),r("1da1")),l=r("6350"),c=r("365c"),u={components:{Breadcrumb:l["a"]},data:function(){return{baseInfo:{},curArea:{},type:"",areaList:[],rules:{unitNature:[{required:!0,message:"请选择单位性质",trigger:"change"}],dconomicType:[{required:!0,message:"请选择单位经济类型",trigger:"change"}],economicType:[{required:!0,message:"请选择单位经济类型",trigger:"change"}],governingBody:[{required:!0,message:"请选择管理机构",trigger:"change"}],governingBodyType:[{required:!0,message:"请选择管理机构类型",trigger:"change"}],bank:[{required:!0,message:"请选择银行",trigger:"change"}],bankBranch:[{required:!1,message:"请选择银行网点",trigger:"change"}],unitPayday:[{required:!0,message:"请选择单位发薪日",trigger:"change"}],initialPayment:[{required:!0,message:"请选择初缴时间",trigger:"change"}],unitDepositRatio:[{required:!0,message:"请选择单位缴存比例",trigger:"change"}],personalDepositRatio:[{required:!0,message:"请选择个人缴存比例",trigger:"change"}],managerName:[{required:!0,message:"请填写经办人姓名",trigger:"change"},{pattern:/[\u4e00-\u9fa5]/,message:"请填写中文字符"}],managerIdcNum:[{required:!0,message:"请填写经办人身份证号码",trigger:"change"},{pattern:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"请填写正确的身份证号码"}],managerPhone:[{required:!0,message:"请填写经办人联系电话",trigger:"change"},{pattern:/^1(?:3\d|4[4-9]|5[0-35-9]|6[67]|7[013-8]|8\d|9\d)\d{8}$/,message:"请填写正确的联系电话"}]},unitNatureList:["国家单位","事业单位","国有企业","城镇集体企业","外商投资企业","城镇私营企业","其他城镇企业","民办非企业单位","社会团体","外商和港澳台投资企业","城镇私营企业及其他城镇企业","其他","资源缴存"],unitEconomyTypeList:["内资","联营","有限公司","私有","港、澳、台投资","国外投资"],economicTypeList:[],governingBodyList:[],governingBodyTypeList:["企业法人","企业非法人","事业法人","事业非法人","社团法人","社团非法人","机关法人","机关非法人","其他","公会法人","民办非企业","个体"],bankList:[],bankBranchList:[],ratioList:["5%","6%","7%","8%","9%","10%","11%","12%"],industryRiskCategoryList:["一类（0.2%）","二类（0.4%）","三类（0.7%）","四类（0.8%）","五类（0.9%）","六类（1.0%）","七类（1.2%）","八类（1.5%）"],affiliationList:["中央","部","省","计划单列市","市、地区","县（区）","区","县","街道、镇、乡","街道","镇","乡","居民、村民委员会","居民","村民委员会","军队","其他"],registrationTypeList:["新参保"],unitTypeList:["企业"],socialList:[],form:{unitNature:"",unitEconomyType:"",dconomicType:"",economicType:"",governingBody:"",governingBodyType:"",bank:"",bankBranch:"",unitPayday:"",initialPayment:"",unitDepositRatio:"",personalDepositRatio:"",managerName:"",managerIdcNum:"",managerPhone:""}}},computed:{draftInfo:function(){return this.$store.state.draft.draftInfo},businessShow:function(){return this.$utils.getItem("businessShow")}},created:function(){},activated:function(){var e=this;this.type=this.$route.query.type,this.$utils.getLocalItem("baseInfo")&&(this.baseInfo=this.$utils.getLocalItem("baseInfo")),this.$utils.getLocalItem("curArea")&&(this.curArea=this.$utils.getLocalItem("curArea")),this.$utils.getItem("draftNumber")&&this.$store.dispatch("draft/getDraftDetail",this.$utils.getItem("draftNumber")).then(function(){var t=Object(s["a"])(Object(i["a"])().mark((function t(r){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:r.providentFund&&(a=r.providentFund,e.form=a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var t=this.$utils.getItem("nameApply").areaCode,r=this.$utils.getItem("nameApply").area;Object(c["Q"])({areacode:t,serviceProvider:"银行"}).then((function(t){e.bankList=t.data||[]})),Object(c["Z"])({area:r[1],city:r[0],outletsContactPerson:"",outletsName:"",pageNum:1,pageSize:20,serviceProvider:"公积金"}).then((function(t){e.governingBodyList=t.data.list||[]}))},methods:{clearValidate:function(){this.$refs["form"].clearValidate()},chooseUnitEconomyType:function(e){console.log(e),this.economicTypeList=[],this.form.economicType="","内资"===e&&(this.economicTypeList=["国有全资","集体全资","股份合作","股份有限（公司）","其他资源"]),"联营"===e&&(this.economicTypeList=["国有联营","集体联营","国有与集体联营","其他联营"]),"有限公司"===e&&(this.economicTypeList=["国有独资（公司）","其他有限责任（公司）"]),"私有"===e&&(this.economicTypeList=["私有独资","私有合伙","私营有限责任（公司）","个体经营","其他私有"]),"港、澳、台投资"===e&&(this.economicTypeList=["内地和港、澳、台合资","内地和港、澳、台合作","港、澳、台独资","港、澳、台投资股份有限（公司）","其他港、澳、台投资"]),"国外投资"===e&&(this.economicTypeList=["国外投资"])},getBankList:function(e){var t=this;console.log(e),this.bankList.forEach((function(r){console.log(r),r.serviceProvider===e&&(t.bankBranchList=r.accountList)}))},handleSaveDraft:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(r,a){var o=Object(n["a"])(Object(n["a"])({},e.draftInfo),{},{providentFund:e.form,businessType:"2",showTips:t});e.$store.dispatch("draft/saveDraft",o).then((function(){r()})).catch((function(){a()}))}))},handleNext:function(){var e=this;this.form.unitEconomyType=this.form.dconomicType+this.form.economicType,console.log(this.form),this.$refs["form"].validate(function(){var t=Object(s["a"])(Object(i["a"])().mark((function t(r){var a,o,s,l,u,m,p;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=31;break}return t.next=3,e.handleSaveDraft();case 3:if(e.$utils.setItem("providentFund",e.form),a=e.businessShow,!a.ylchecked){t.next=8;break}return e.$router.push({path:"/form/medicalInsurance",query:Object(n["a"])({},e.$route.query)}),t.abrupt("return");case 8:if(!a.sdqwchecked){t.next=11;break}return e.$router.push({path:"/form/utilityForm",query:Object(n["a"])({},e.$route.query)}),t.abrupt("return");case 11:if(!a.waterchecked){t.next=14;break}return e.$router.push({path:"/form/waterRegister",query:Object(n["a"])({},e.$route.query)}),t.abrupt("return");case 14:if(!a.dlchecked){t.next=17;break}return e.$router.push({path:"/form/electricityAllowed",query:Object(n["a"])({},e.$route.query)}),t.abrupt("return");case 17:if(!a.rqchecked){t.next=20;break}return e.$router.push({path:"/form/gasRegister",query:Object(n["a"])({},e.$route.query)}),t.abrupt("return");case 20:o=e.draftInfo.nameApply,s=e.draftInfo.address,l=e.draftInfo.scope,u=e.draftInfo.member,m=e.draftInfo.otherInfo,p=Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},o),s),{},{scope:l},u),m),{},{industryType:{IndustryCode:o.industryFormulated.split("-")[0],IndustryName:o.industryFormulated.split("-")[2]},industryFormulated:o.industryFormulated.split("-")[1],area:o.area.join(" ")}),console.log(p),e.$loading({text:"正在获取pdf内容"}),Object(c["Y"])(p,e.$route.query.whatfrom).then((function(t){if(e.$loading().close(),500===+t.errCode||"faulted"===t.state)return e.$utils.showError("生成失败，请重试！");e.$router.push({path:"/form/preview",query:Object(n["a"])(Object(n["a"])({},e.$route.query),{},{path:t.outData.pdf})})})),t.next=32;break;case 31:e.$utils.showError("请按提示信息补充完整表单！");case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},m=u,p=(r("2d09"),r("2877")),d=Object(p["a"])(m,a,o,!1,null,"cdb811a8",null);t["default"]=d.exports},"2d09":function(e,t,r){"use strict";r("8d95")},"8d95":function(e,t,r){}}]);