(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac88ed0c"],{"43c1":function(e,t,a){},"63b7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"base-form"},[a("breadcrumb",{directives:[{name:"show",rawName:"v-show",value:"test"!==e.$route.query.mode,expression:"$route.query.mode !== 'test'"}]}),e._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[e._v(e._s(e.$route.meta.title))]),e._v(" "),a("div",{staticClass:"min-title"},[e._v("检查申报主体信息")]),e._v(" "),a("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":"left",model:e.form,rules:e.rules,"label-width":"94px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:15}},[a("el-form-item",{staticClass:"radio",attrs:{label:"统一社会信用代码","label-width":"170px",prop:"uniscid"}},[a("el-input",{staticStyle:{width:"321px"},attrs:{disabled:e.uniscidDisabled,placeholder:"请填写统一社会信用代码"},model:{value:e.form.uniscid,callback:function(t){e.$set(e.form,"uniscid",t)},expression:"form.uniscid"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.queryCompanyInfo}},[e._v("查询企业信息")]),e._v(" "),a("el-button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"企业名称","label-width":"100px",prop:"companyName"}},[a("el-input",{staticStyle:{width:"221px"},attrs:{placeholder:"请填写企业名称"},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"企业类型","label-width":"100px",prop:"companyType"}},[a("el-input",{attrs:{placeholder:"请输入企业类型"},model:{value:e.form.companyType,callback:function(t){e.$set(e.form,"companyType","string"===typeof t?t.trim():t)},expression:"form.companyType"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"住所","label-width":"100px",prop:"address"}},[a("el-input",{staticStyle:{width:"221px"},attrs:{type:"textarea",autosize:{minRows:1.2},placeholder:"请填写住所"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"注册资本","label-width":"100px",prop:"regisCapital"}},[a("el-input",{attrs:{placeholder:"请输入注册资本"},model:{value:e.form.regisCapital,callback:function(t){e.$set(e.form,"regisCapital","string"===typeof t?t.trim():t)},expression:"form.regisCapital"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"法定代表人","label-width":"120px",prop:"legalName"}},[a("el-input",{staticStyle:{width:"221px"},attrs:{placeholder:"请填写法定代表人"},model:{value:e.form.legalName,callback:function(t){e.$set(e.form,"legalName",t)},expression:"form.legalName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"登记机关","label-width":"100px",prop:"regisAuthority"}},[a("el-input",{attrs:{placeholder:"请输入登记机关"},model:{value:e.form.regisAuthority,callback:function(t){e.$set(e.form,"regisAuthority","string"===typeof t?t.trim():t)},expression:"form.regisAuthority"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"经办人姓名","label-width":"120px",prop:"managerName"}},[a("el-input",{staticStyle:{width:"221px"},attrs:{placeholder:"请填写经办人姓名"},model:{value:e.form.managerName,callback:function(t){e.$set(e.form,"managerName",t)},expression:"form.managerName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"经办人证件号码","label-width":"140px",prop:"managerIdcNum"}},[a("el-input",{staticStyle:{width:"221px"},attrs:{placeholder:"请输入经办人证件号码"},model:{value:e.form.managerIdcNum,callback:function(t){e.$set(e.form,"managerIdcNum","string"===typeof t?t.trim():t)},expression:"form.managerIdcNum"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"经办人联系方式","label-width":"140px",prop:"managerPhone"}},[a("el-input",{staticStyle:{width:"221px"},attrs:{maxlength:"11",placeholder:"请输入经办人联系方式"},model:{value:e.form.managerPhone,callback:function(t){e.$set(e.form,"managerPhone","string"===typeof t?t.trim():t)},expression:"form.managerPhone"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticClass:"btn-group text-center",attrs:{"label-width":"0"}},[a("el-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleGoAppendPage}},[e._v("确认信息无误，进行填报")])],1)],1)],1)],1)},i=[],s=a("5530"),o=a("c7eb"),n=(a("7f7f"),a("96cf"),a("1da1")),l=a("6350"),c=a("365c"),m={components:{Breadcrumb:l["a"]},data:function(){return{newDateOptions:{disabledDate:function(e){return e.getTime()<Date.now()}},PDF:{isOpen:!1,uploadPdfData:[],url:""},uniscidDisabled:!1,form:{uniscid:"",companyName:"",companyType:"",address:"",regisCapital:"",legalName:"",regisAuthority:"",managerName:"",managerPhone:"",managerIdcNum:"",area:""},rules:{area:[{required:!0,message:"请选择行政区划",trigger:"change"}],uniscid:[{required:!0,message:"请填写企业信用代码",trigger:"change"}],companyName:[{required:!0,message:"请填写企业名称",trigger:"change"}],companyType:[{required:!0,message:"请填写企业类型",trigger:"change"}],address:[{required:!0,message:"请填写住所地址",trigger:"change"}],regisCapital:[{required:!0,message:"请填写注册资本",trigger:"change"}],legalName:[{required:!0,message:"请填写法人姓名",trigger:"change"}],regisAuthority:[{required:!0,message:"请填写登记机关",trigger:"change"}],managerName:[{required:!0,message:"请填写经办人姓名",trigger:"change"}],managerPhone:[{required:!0,message:"请填写经办人电话",trigger:"change"},{pattern:/^1(?:3\d|4[4-9]|5[0-35-9]|6[67]|7[013-8]|8\d|9\d)\d{8}$/,message:"请填写正确的电话号码"}],managerIdcNum:[{required:!0,message:"请填写经办人证件号码",trigger:"change"}]}}},computed:{draftInfo:function(){return this.$store.state.draft.draftInfo},getCurArea:function(){var e=this.$utils.getLocalItem("curArea"),t=e.provice,a=e.city,r=e.district;return"".concat(t," ").concat(a," ").concat(r)}},mounted:function(){var e=Object(n["a"])(Object(o["a"])().mark((function e(){var t;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(this.form),this.$utils.getLocalItem("userInfo")&&(t=this.$utils.getLocalItem("userInfo"),this.form.managerName=t.name,this.form.managerIdcNum=t.idNumber),this.$utils.getLocalItem("curArea")&&(this.form.area=this.getCurArea),this.createQueue();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),activated:function(){var e=this;this.$utils.getItem("draftNumber")&&this.$store.dispatch("draft/getDraftDetail",this.$utils.getItem("draftNumber")).then(function(){var t=Object(n["a"])(Object(o["a"])().mark((function t(a){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.applicantInfo&&(e.form=a.applicantInfo);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},methods:{handleSaveDraft:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(a,r){var i=Object(s["a"])(Object(s["a"])({},e.draftInfo),{},{applicantInfo:e.form,showTips:t});e.$store.dispatch("draft/saveDraft",i).then((function(){a()})).catch((function(){r()}))}))},queryCompanyInfo:function(){var e=this;this.form.uniscid?(this.$loading({text:"查询时间较长，请耐心等待"}),Object(c["A"])({creditCode:this.form.uniscid}).then((function(t){if(e.$loading().close(),"successful"===t.state){if(0===t.outData.data.length)return void e.$utils.showError("未查询到企业信息");var a=t.outData.data[0];e.form.companyName=a.companyName,e.form.companyType=a.companyType,e.form.address=a.address,e.form.regisCapital=a.capital,e.form.legalName=a.idName,e.form.regisAuthority=a.registration,e.uniscidDisabled=!0}else e.$utils.showError(t.errMsg)}))):this.$utils.showError("请填写企业信用代码")},reset:function(){this.form.uniscid="",this.form.companyName="",this.form.companyType="",this.form.domAddr="",this.form.regisCapital="",this.form.legalName="",this.form.regisAuthority="",this.uniscidDisabled=!1},handleGoAppendPage:function(){var e=this;this.$refs["form"].validate(function(){var t=Object(n["a"])(Object(o["a"])().mark((function t(a){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=7;break}return t.next=3,e.handleSaveDraft();case 3:e.$utils.setItem("applicantInfo",e.form),e.$router.push({path:"/form/materialsUpload",query:Object(s["a"])({},e.$route.query)}),t.next=8;break;case 7:e.$utils.showError("请按提示信息补充完整表单！");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},createQueue:function(){var e=this;this.$loading({text:"加载中..."}),Object(c["p"])().then(function(){var t=Object(n["a"])(Object(o["a"])().mark((function t(a){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$loading().close(),e.$utils.setItem("ident",a.outData.queueIdent);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$loading().close(),console.log(t)}))}}},u=m,p=(a("7873"),a("2877")),f=Object(p["a"])(u,r,i,!1,null,"60e25f44",null);t["default"]=f.exports},7873:function(e,t,a){"use strict";a("43c1")},"7f7f":function(e,t,a){var r=a("86cc").f,i=Function.prototype,s=/^\s*function ([^ (]*)/,o="name";o in i||a("9e1e")&&r(i,o,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})}}]);