(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c0eec38a"],{"071b":function(e,t,i){},1211:function(e,t,i){"use strict";i("071b")},"45e0":function(e,t,i){"use strict";i("7f73")},"7f73":function(e,t,i){},"807b":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"z_process_page"},[i("ul",{staticClass:"z_process_header"},[i("li",[i("span",[e._v("业务名称")]),i("span",[e._v(e._s(e.workDetail["业务名称"]))])]),e._v(" "),i("li",[i("span",[e._v("办事主体")]),i("span",[e._v(e._s(e.workDetail["办事主体"]))])]),e._v(" "),i("li",[i("span",[e._v("业务编号")]),i("span",[e._v(e._s(e.workDetail["业务编号"]))])])]),e._v(" "),i("div",{staticClass:"z_process_title"},[e._v("\n    办理进度\n    "),5===+e.workDetail["当前状态编号"]?i("el-button",{staticClass:"pdf-btn",attrs:{type:"text"},on:{click:function(t){return e.getAndOpenSignPdf(e.workDetail["办件编号"]["发起签名"])}}},[e._v("查看章程PDF")]):e._e()],1),e._v(" "),i("div",{staticClass:"z_process_body"},[i("el-steps",{attrs:{direction:"vertical","active-color":"#2163e0",active:e.active,"process-status":"finish"}},e._l(e.workDetail["时间轴"],(function(t){return i("el-step",{key:t.id,class:{currentActive:t.id===e.workDetail["当前状态编号"]}},[i("div",{staticClass:"z_step_content",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"z_step_name"},[e._v(e._s(t["名称"]))]),e._v(" "),i("div",{staticClass:"z_step_time",staticStyle:{"text-align":"right"}},[e._v(e._s(t["时间"])+"\n            "),i("br"),i("span",{staticStyle:{color:"red"}},[e._v(e._s(t["信息"]))])])]),e._v(" "),i("div",{staticStyle:{padding:"15px 0"},attrs:{slot:"description"},slot:"description"},[2===+t.id?i("ul",{staticClass:"z_sign"},e._l(e.workDetail["签署情况"],(function(t,s){return i("li",{key:s,staticClass:"z_sign_item"},[i("div",{staticClass:"z_sign_name"},[e._v(e._s(t["签署人名称"]))]),e._v(" "),"未签名"===t["签署状态"]?i("div",{staticClass:"z_sign_status"},[e._v(e._s(t["签署状态"]))]):e._e(),e._v(" "),"已签名"===t["签署状态"]?i("div",{staticClass:"z_sign_time"},[e._v(e._s(t["签署时间"]))]):e._e()])})),0):e._e(),e._v(" "),4===+t.id&&e.workDetail["认证信息"]&&e.workDetail["认证信息"].length?i("ul",{staticClass:"z_sign"},e._l(e.workDetail["认证信息"],(function(t,s){return i("li",{key:s,staticClass:"z_sign_item"},[i("div",{staticClass:"z_sign_name"},[e._v(e._s(t["姓名"])+"（"+e._s(t["证件号码"].substring(t["证件号码"].length-4))+"）")]),e._v(" "),i("div",{staticClass:"z_sign_time"},[e._v("未认证授权")])])})),0):e._e()])])})),1),e._v(" "),i("div",{staticStyle:{display:"flex"}},[e.isshowCommitBTn?i("el-button",{staticStyle:{margin:"auto"},attrs:{type:"primary"},on:{click:e.errorApplication}},[e._v("故障申报服务")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"故障申报服务",center:"","close-on-click-modal":!1,visible:e.ErrorAPPdialogVisible,width:"70%","before-close":e.handleClose},on:{"update:visible":function(t){e.ErrorAPPdialogVisible=t}}},[i("el-form",{ref:"form",attrs:{"label-position":e.labelPosition,"label-width":"180px",model:e.formLabelAlign,rules:e.rules}},[i("el-form-item",{attrs:{label:"业务编号",prop:"bizSerialNumber"}},[i("el-input",{attrs:{disabled:""},model:{value:e.formLabelAlign.bizSerialNumber,callback:function(t){e.$set(e.formLabelAlign,"bizSerialNumber",t)},expression:"formLabelAlign.bizSerialNumber"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"办件主题",prop:"businessName"}},[i("el-input",{attrs:{disabled:""},model:{value:e.formLabelAlign.businessName,callback:function(t){e.$set(e.formLabelAlign,"businessName",t)},expression:"formLabelAlign.businessName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"办理人",prop:"handler"}},[i("el-input",{model:{value:e.formLabelAlign.handler,callback:function(t){e.$set(e.formLabelAlign,"handler",t)},expression:"formLabelAlign.handler"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"办理人联系方式",prop:"contactInfo"}},[i("el-input",{model:{value:e.formLabelAlign.contactInfo,callback:function(t){e.$set(e.formLabelAlign,"contactInfo",t)},expression:"formLabelAlign.contactInfo"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.CommitApplication}},[e._v("申 请")])],1)],1)],1)},a=[],r=i("c7eb"),l=(i("96cf"),i("1da1")),n=(i("ac6a"),i("6762"),i("365c")),o={components:{},data:function(){return{isshowCommitBTn:!1,labelPosition:"right",formLabelAlign:{bizSerialNumber:"",businessName:"",handler:"",contactInfo:""},rules:{bizSerialNumber:[{required:!0,message:"请输入业务编号",trigger:"blur"}],businessName:[{required:!0,message:"请输入办件主题",trigger:"blur"}],handler:[{required:!0,message:"请输入办理人",trigger:"blur"}],contactInfo:[{required:!0,message:"请输入活动名称办理人联系方式",trigger:"blur"}]},ErrorAPPdialogVisible:!1,workDetail:[],active:0}},created:function(){var e=this.$route.query;this.getDetail(e.ident,e.bizName)},methods:{handleClose:function(){this.ErrorAPPdialogVisible=!1,this.$refs["form"].resetFields()},errorApplication:function(){this.ErrorAPPdialogVisible=!0,this.formLabelAlign.bizSerialNumber=this.workDetail["业务编号"],this.formLabelAlign.businessName=this.workDetail["办事主体"]},CommitApplication:function(){var e=this;if(!this.formLabelAlign.bizSerialNumber||null==this.formLabelAlign.bizSerialNumber)return this.$utils.showError("请输入业务编号");if(!this.formLabelAlign.businessName||null==this.formLabelAlign.businessName)return this.$utils.showError("请输入办件主题");if(!this.formLabelAlign.handler||null==this.formLabelAlign.handler)return this.$utils.showError("请输入办理人");if(!this.formLabelAlign.contactInfo||null==this.formLabelAlign.contactInfo)return this.$utils.showError("请输入活动名称办理人联系方式");var t={bizSerialNumber:this.formLabelAlign.bizSerialNumber,businessName:this.formLabelAlign.businessName,handler:this.formLabelAlign.handler,contactInfo:this.formLabelAlign.contactInfo};Object(n["a"])(t).then((function(t){200===t.flag?(e.$utils.showSuccess(t.message),e.$refs["form"].resetFields(),e.ErrorAPPdialogVisible=!1):e.$utils.showError("申报失败，请重新申报")}))},getDetail:function(e,t){var i=this;this.$api.showLoading({text:"获取数据中..."});var s={},a=["个人独资企业公示信息填报","个体工商户公示信息填报","内资企业公示信息填报","分公司公示信息填报","农民专业合作社公示信息填报"];if(a.includes(t))s={job:"HUBEI_ANNUAL_DETAILS",inData:{ident:e}};else{var r="HUBEI_QUEUE_STATUS";"咸宁一事联办"===t&&(r="HUBEI_ACCEPTED_QUEUE"),s={job:r,inData:{bizSerialNumber:e}}}this.$api.startJob(s).then((function(e){"HUBEI_QUEUE_STATUS"===s.job&&e.outData["时间轴"].forEach((function(e){"审批不通过"===e["名称"]&&(i.isshowCommitBTn=!0)})),i.$api.hideLoading(),"successful"===e.state?(i.workDetail=e.outData,i.workDetail["时间轴"].forEach((function(e,t){+e.id===+i.workDetail["当前状态编号"]&&(i.active=t)})),i.dialogProgress=!0):i.$utils.showWarn(e.errMsg)})).catch((function(e){i.$api.hideLoading(),console.log(e),i.$utils.showError("发生错误，请联系管理员！")}))},getAndOpenSignPdf:function(){var e=Object(l["a"])(Object(r["a"])().mark((function e(t){var i,s;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.$api.showLoading(),e.next=4,Object(n["y"])(t);case 4:if(i=e.sent,i.data&&i.data.boxId){e.next=8;break}return this.$api.hideLoading(),e.abrupt("return",this.$utils.showError("获取签署信息失败，请重试！"));case 8:return e.next=10,Object(n["S"])(i.data.boxId);case 10:s=e.sent,this.$api.hideLoading(),window.parent.handleSubmit(s.data.signedFile),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](0),this.$api.hideLoading(),console.log(e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,15]])})));function t(t){return e.apply(this,arguments)}return t}()}},c=o,u=(i("1211"),i("45e0"),i("2877")),b=Object(u["a"])(c,s,a,!1,null,"67e71279",null);t["default"]=b.exports}}]);