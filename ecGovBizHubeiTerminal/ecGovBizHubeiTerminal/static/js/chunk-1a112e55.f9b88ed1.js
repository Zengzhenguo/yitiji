(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a112e55"],{1196:function(e,t,r){"use strict";r.r(t);var c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"address-form"},[r("breadcrumb",{directives:[{name:"show",rawName:"v-show",value:"test"!==e.$route.query.mode,expression:"$route.query.mode !== 'test'"}]}),e._v(" "),r("div",{staticClass:"box"},[r("div",{staticClass:"title"},[e._v(e._s("请选择所需办理业务"))]),e._v(" "),r("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":"left",model:e.form,rules:e.rules,"label-width":"94px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"登记注册","label-width":"274px"}},[r("el-checkbox",{attrs:{disabled:"",checked:"",label:"名称申报",border:""}}),e._v(" "),r("el-checkbox",{attrs:{disabled:"",checked:"",label:"设立登记",border:""}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},["commercial"===e.type||"commercialRegister"===e.type?r("el-form-item",{attrs:{label:"商事确认一链通","label-width":"274px"}},[r("el-checkbox",{attrs:{label:"公章刻制",border:""},model:{value:e.form.gzchecked,callback:function(t){e.$set(e.form,"gzchecked",t)},expression:"form.gzchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"社保登记",border:""},model:{value:e.form.sbchecked,callback:function(t){e.$set(e.form,"sbchecked",t)},expression:"form.sbchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"税务登记",border:""},model:{value:e.form.swchecked,callback:function(t){e.$set(e.form,"swchecked",t)},expression:"form.swchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"银行开户",border:""},model:{value:e.form.yhchecked,callback:function(t){e.$set(e.form,"yhchecked",t)},expression:"form.yhchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"公积金",border:""},model:{value:e.form.gjjchecked,callback:function(t){e.$set(e.form,"gjjchecked",t)},expression:"form.gjjchecked"}}),e._v(" "),"2021II-500040013"===this.$utils.getLocalItem("tId")||"2021II-ZW-SYZX"===this.$utils.getLocalItem("tId")?[r("el-checkbox",{attrs:{label:"医保登记",border:""},model:{value:e.form.ylchecked,callback:function(t){e.$set(e.form,"ylchecked",t)},expression:"form.ylchecked"}})]:e._e(),e._v(" "),"2020II-ZW-SYDJK"===this.$utils.getLocalItem("tId")?[r("el-checkbox",{attrs:{label:"医保登记",border:""},model:{value:e.form.ylchecked,callback:function(t){e.$set(e.form,"ylchecked",t)},expression:"form.ylchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"水务登记 ",border:""},model:{value:e.form.waterchecked,callback:function(t){e.$set(e.form,"waterchecked",t)},expression:"form.waterchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"电力登记 ",border:""},model:{value:e.form.dlchecked,callback:function(t){e.$set(e.form,"dlchecked",t)},expression:"form.dlchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"燃气登记 ",border:""},model:{value:e.form.rqchecked,callback:function(t){e.$set(e.form,"rqchecked",t)},expression:"form.rqchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"网络登记",border:""},model:{value:e.waterLectricityEtwork.isInternetRegist,callback:function(t){e.$set(e.waterLectricityEtwork,"isInternetRegist",t)},expression:"waterLectricityEtwork.isInternetRegist"}})]:e._e(),e._v(" "),"2020II-500120573"===this.$utils.getLocalItem("tId")||"2020II-500000003"===this.$utils.getLocalItem("tId")?[r("el-checkbox",{attrs:{label:"水务登记 ",border:""},model:{value:e.form.waterchecked,callback:function(t){e.$set(e.form,"waterchecked",t)},expression:"form.waterchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"电力登记 ",border:""},model:{value:e.form.dlchecked,callback:function(t){e.$set(e.form,"dlchecked",t)},expression:"form.dlchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"燃气登记 ",border:""},model:{value:e.form.rqchecked,callback:function(t){e.$set(e.form,"rqchecked",t)},expression:"form.rqchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"网络登记",border:""},model:{value:e.waterLectricityEtwork.isInternetRegist,callback:function(t){e.$set(e.waterLectricityEtwork,"isInternetRegist",t)},expression:"waterLectricityEtwork.isInternetRegist"}})]:e._e(),e._v(" "),"十堰经济开发区"!==this.$utils.getLocalItem("curArea").district||e.isHBZWW?e._e():[r("el-checkbox",{attrs:{label:"水务登记 ",border:""},model:{value:e.form.waterchecked,callback:function(t){e.$set(e.form,"waterchecked",t)},expression:"form.waterchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"电力登记 ",border:""},model:{value:e.form.dlchecked,callback:function(t){e.$set(e.form,"dlchecked",t)},expression:"form.dlchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"燃气登记 ",border:""},model:{value:e.form.rqchecked,callback:function(t){e.$set(e.form,"rqchecked",t)},expression:"form.rqchecked"}})],e._v(" "),"十堰市"===this.$utils.getLocalItem("curArea").city?r("div",{staticStyle:{color:"#b25568"}},[e._v("（以上环节可并联办理，承诺办结时限:0.1个工作日）")]):e._e()],2):e._e(),e._v(" "),"9210commercial"===e.type?r("el-form-item",{attrs:{label:"9210一键办","label-width":"274px"}},[r("el-checkbox",{attrs:{label:"公章刻制",border:""},model:{value:e.form.gzchecked,callback:function(t){e.$set(e.form,"gzchecked",t)},expression:"form.gzchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"社保登记",border:""},model:{value:e.form.sbchecked,callback:function(t){e.$set(e.form,"sbchecked",t)},expression:"form.sbchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"税务登记",border:""},model:{value:e.form.swchecked,callback:function(t){e.$set(e.form,"swchecked",t)},expression:"form.swchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"银行开户",border:""},model:{value:e.form.yhchecked,callback:function(t){e.$set(e.form,"yhchecked",t)},expression:"form.yhchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"公积金",border:""},model:{value:e.form.gjjchecked,callback:function(t){e.$set(e.form,"gjjchecked",t)},expression:"form.gjjchecked"}})],1):e._e(),e._v(" "),"9210commercial"===e.type?r("el-form-item",{attrs:{label:"","label-width":"274px"}},[r("el-checkbox",{attrs:{label:"水务登记",border:""},model:{value:e.waterLectricityEtwork.isWaterRegist,callback:function(t){e.$set(e.waterLectricityEtwork,"isWaterRegist",t)},expression:"waterLectricityEtwork.isWaterRegist"}}),e._v(" "),r("el-checkbox",{attrs:{label:"电力登记",border:""},model:{value:e.form.dlchecked,callback:function(t){e.$set(e.form,"dlchecked",t)},expression:"form.dlchecked"}}),e._v(" "),r("el-checkbox",{attrs:{label:"燃气登记",border:""},model:{value:e.waterLectricityEtwork.isNaturalGasRegist,callback:function(t){e.$set(e.waterLectricityEtwork,"isNaturalGasRegist",t)},expression:"waterLectricityEtwork.isNaturalGasRegist"}}),e._v(" "),r("el-checkbox",{attrs:{label:"网络登记",border:""},model:{value:e.waterLectricityEtwork.isInternetRegist,callback:function(t){e.$set(e.waterLectricityEtwork,"isInternetRegist",t)},expression:"waterLectricityEtwork.isInternetRegist"}})],1):e._e()],1)],1),e._v(" "),r("el-form-item",{staticClass:"btn-group text-center",attrs:{"label-width":"0"}},[r("el-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("上一步")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.handleNext}},[e._v("下一步")])],1)],1)],1)],1)},s=[],a=(r("28a5"),r("5530")),o=r("c7eb"),i=(r("96cf"),r("1da1")),l=r("6350"),h=r("365c"),n={components:{Breadcrumb:l["a"]},data:function(){return{checked:!0,type:null,baseInfo:null,curArea:null,form:{gzchecked:!1,swchecked:!1,sbchecked:!1,yhchecked:!1,gjjchecked:!1,sdqwchecked:!1,waterchecked:!1,dlchecked:!1,rqchecked:!1,ylchecked:!1},waterLectricityEtwork:{isWaterRegist:!1,waterRegistAddress:"",isNaturalGasRegist:!1,naturalGasRegistAddress:"",isInternetRegist:!1,internetRegistAddress:""},rules:{}}},computed:{draftInfo:function(){return this.$store.state.draft.draftInfo},isHBZWW:function(){return"湖北政务网一链通"===this.$utils.getItem("origin")}},activated:function(){var e=this;this.type=this.$route.query.type,this.$utils.getItem("draftNumber")&&this.$store.dispatch("draft/getDraftDetail",this.$utils.getItem("draftNumber")).then(function(){var t=Object(i["a"])(Object(o["a"])().mark((function t(r){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:r.businessShow&&(e.form=r.businessShow),r.waterLectricityEtwork&&(e.waterLectricityEtwork=r.waterLectricityEtwork);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},methods:{clearValidate:function(){this.$refs["form"].clearValidate()},handleSaveDraft:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(r,c){var s=Object(a["a"])(Object(a["a"])({},e.draftInfo),{},{businessType:"2",businessShow:e.form,waterLectricityEtwork:e.waterLectricityEtwork,showTips:t});e.$store.dispatch("draft/saveDraft",s).then((function(){r()})).catch((function(){c()}))}))},handleNext:function(){var e=Object(i["a"])(Object(o["a"])().mark((function e(){var t,r,c,s,i,l,n,d=this;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("硚口区"===this.$utils.getLocalItem("curArea").district){e.next=4;break}if(this.form.gzchecked||this.form.swchecked||this.form.sbchecked||this.form.yhchecked||this.form.gjjchecked||this.form.dlchecked||this.form.waterchecked||this.form.rqchecked||this.waterLectricityEtwork.isInternetRegist||this.form.ylchecked||"commercial"!==this.type&&"commercialRegister"!==this.type){e.next=4;break}return this.$utils.showError("至少选择一项业务"),e.abrupt("return");case 4:if(this.waterLectricityEtwork.isWaterRegist||this.waterLectricityEtwork.isNaturalGasRegist||this.waterLectricityEtwork.isInternetRegist?this.form.sdqwchecked=!0:this.form.sdqwchecked=!1,"9210commercial"!==this.type||this.form.gzchecked||this.form.swchecked||this.form.sbchecked||this.form.yhchecked||this.form.gjjchecked||this.form.dlchecked||this.form.sdqwchecked||this.form.ylchecked){e.next=8;break}return this.$utils.showError("至少选择一项业务"),e.abrupt("return");case 8:return e.next=10,this.handleSaveDraft();case 10:if(this.$utils.setItem("businessShow",this.form),this.$utils.setItem("waterLectricityEtwork",this.waterLectricityEtwork),"硚口区"!==this.$utils.getLocalItem("curArea").district){e.next=55;break}if(t=this.draftInfo.businessShow||this.form,!t.gzchecked){e.next=17;break}return this.$router.push({path:"/form/seal",query:Object(a["a"])({},this.$route.query)}),e.abrupt("return");case 17:if(!t.sbchecked){e.next=20;break}return this.$router.push({path:"/form/socialSecurity",query:Object(a["a"])({},this.$route.query)}),e.abrupt("return");case 20:if(!t.swchecked){e.next=23;break}return this.$router.push({path:"/form/taxAdministration",query:Object(a["a"])({},this.$route.query)}),e.abrupt("return");case 23:if(!t.yhchecked){e.next=26;break}return this.$router.push({path:"/form/bankAccount",query:Object(a["a"])({},this.$route.query)}),e.abrupt("return");case 26:if(!t.gjjchecked){e.next=29;break}return this.$router.push({path:"/form/accumulationFund",query:Object(a["a"])({},this.$route.query)}),e.abrupt("return");case 29:if(!t.ylchecked){e.next=32;break}return this.$router.push({path:"/form/medicalInsurance",query:Object(a["a"])({},this.$route.query)}),e.abrupt("return");case 32:if(!t.sdqwchecked){e.next=35;break}return this.$router.push({path:"/form/utilityForm",query:Object(a["a"])({},this.$route.query)}),e.abrupt("return");case 35:if(!t.waterchecked){e.next=38;break}return this.$router.push({path:"/form/waterRegister",query:Object(a["a"])({},this.$route.query)}),e.abrupt("return");case 38:if(!t.dlchecked){e.next=41;break}return this.$router.push({path:"/form/electricityAllowed",query:Object(a["a"])({},this.$route.query)}),e.abrupt("return");case 41:if(!t.rqchecked){e.next=44;break}return this.$router.push({path:"/form/gasRegister",query:Object(a["a"])({},this.$route.query)}),e.abrupt("return");case 44:return console.log(this.draftInfo),r=this.draftInfo.nameApply,c=this.draftInfo.address,s=this.draftInfo.scope,i=this.draftInfo.member,l=this.draftInfo.otherInfo,n=Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])({},r),c),{},{scope:s},i),l),{},{industryType:{IndustryCode:r.industryFormulated.split("-")[0],IndustryName:r.industryFormulated.split("-")[2]},industryFormulated:r.industryFormulated.split("-")[1],area:r.area.join(" ")}),console.log(n),this.$loading({text:"正在获取pdf内容"}),Object(h["Y"])(n,this.$route.query.whatfrom).then((function(e){if(d.$loading().close(),500===+e.errCode||"faulted"===e.state)return d.$utils.showError("生成失败，请重试！");d.$router.push({path:"/form/preview",query:Object(a["a"])(Object(a["a"])({},d.$route.query),{},{path:e.outData.pdf})})})),e.abrupt("return");case 55:this.$router.push({path:"/form/nameApply",query:Object(a["a"])({},this.$route.query)});case 56:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},d=n,u=(r("e6ce"),r("2877")),f=Object(u["a"])(d,c,s,!1,null,"1370a469",null);t["default"]=f.exports},4891:function(e,t,r){},e6ce:function(e,t,r){"use strict";r("4891")}}]);